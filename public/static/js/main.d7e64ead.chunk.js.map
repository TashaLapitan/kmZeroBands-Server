{"version":3,"sources":["lib/auth-service.js","context/auth-context.js","lib/gig-service.js","lib/bands-service.js","components/PostNewGig.js","components/GigCard.js","components/BandCard.js","components/BandSearch.js","pages/Home.js","pages/Signup.js","pages/Login.js","lib/user-service.js","components/ProfileInfo.js","components/EditProfile.js","components/UpdateBand.js","components/BandInfo.js","pages/MyProfile.js","components/GigSearch.js","pages/GigBoard.js","pages/BandPage.js","components/Navbar.js","components/AnonRoute.js","components/PrivateRoute.js","App.js","index.js"],"names":["authService","this","auth","axios","create","baseURL","process","withCredentials","username","email","password","post","then","response","data","get","React","createContext","Consumer","Provider","AuthProvider","state","isLoggedIn","isLoading","user","signup","setState","catch","err","login","logout","console","log","me","value","props","children","Component","withAuth","WrappedComponent","gigService","getAllGigs","api","searchGigs","city","getGigByID","id","createGig","title","description","date","genre","durationHours","pricePerHour","bandService","getAllBands","getBandByID","createBand","image","phoneNumber","contactInfo","instagramUrl","youtubeUrl","genre1","genre2","genre3","canCustomizePlaylist","minNoticePeriod","genres","filter","updateBandInfo","bandID","put","deleteBand","delete","PostNewGig","undefined","handleInput","event","target","name","handleGigSubmit","preventDefault","toggleAddGig","getGigs","onSubmit","e","type","placeholder","onChange","rows","cols","min","GigCard","gig","clientID","dateObj","dateToShow","Date","toString","slice","formatDate","BandCard","band","map","BandSearch","handleChange","handleSearchSubmit","bandCities","bandGenres","bandSearch","list","showAddGig","gigsArr","bandsToDisplay","allBands","searchBandRes","showSearchResults","getBandOptions","bandsArr","citiesArr","genreArr","forEach","includes","push","length","tenRandBands","i","index","Math","floor","random","filterBand","str","newArr","bandObj","toLowerCase","_id","onClick","to","today","now","handleFormSubmit","userService","getUser","editUser","aboutBio","deleteUser","ProfileInfo","gigArr","gigHistory","toggleEditProfile","EditProfile","handleFileUpload","handleProfileFormSubmit","UpdateBand","bandExists","handleBandChange","handleBandFormSubmit","updateBand","handleBandImgUpload","src","alt","checked","BandInfo","arr","href","width","isBandPOC","pocID","editProfile","editBand","setComponentState","file","files","uploadData","FormData","append","secure_url","deleteProfile","dateOfBirth","GigSearch","gigCities","query","GigBoard","showAllGigs","allGigs","BandPage","getBand","endpoint","match","params","foundBand","find","setUserState","currentUser","className","height","routeProps","ComponentToShow","component","exact","path","render","App","Home","Signup","Login","MyProfile","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d7e64ead.chunk.js","sourcesContent":["import axios from \"axios\";\n\nclass AuthService {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true\n    });\n  }\n\n  signup( username, email, password ) {\n    const pr = this.auth\n      .post(\"/auth/signup\", { username, email, password })\n      .then((response) => response.data);\n\n    return pr;\n  }\n\n  login( email, password ) {\n    const pr = this.auth\n      .post(\"/auth/login\", { email, password })\n      .then((response) => response.data);\n      \n    return pr;\n  }\n\n  logout() {\n    const pr = this.auth\n      .get(\"/auth/logout\")\n      .then((response) => response.data);\n\n    return pr;\n  }\n\n  me() {\n    const pr = this.auth\n      .get(\"/auth/me\")\n      .then((response) => response.data);\n\n    return pr;\n  }\n}\n\n\nconst authService = new AuthService();\n\nexport default authService;\n\n","import React from 'react';\nimport authService from './../lib/auth-service';\n\nconst { Consumer, Provider } = React.createContext();\n\n\nclass AuthProvider extends React.Component {\n  state = {\n    isLoggedIn: false,\n    isLoading: true,\n    user: null\n  }\n\n  componentDidMount () {\n    authService.me()\n     .then((user) => this.setState({ isLoggedIn: true, user: user, isLoading: false }))\n     .catch((err) => this.setState({ isLoggedIn: false, user: null, isLoading: false }));\n  }\n\n  signup = (username, email, password) => {\n    authService.signup( username, email, password )\n      .then((user) => this.setState({ isLoggedIn: true, user }) )\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  login = (email, password) => {\n    authService.login( email, password )\n      .then((user) => {\n        this.setState({ isLoggedIn: true, user })\n      })\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  logout = () => {\n    authService.logout()\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\n      .catch((err) => console.log(err));\n  }\n\n\n  render() {\n    const { isLoggedIn, isLoading, user } = this.state;\n    const { signup, login, logout } = this;\n\n    if (isLoading) return <p>Loading</p>;\n\n    return(\n      <Provider value={{ isLoggedIn, isLoading, user, signup, login, logout }}  >\n        {this.props.children}\n      </Provider>\n    )\n  }\n\n}\n\n\n// HOC that converts regular component into a Consumer\nconst withAuth = (WrappedComponent) => {\n  \n  return class extends React.Component {\n    render() {\n      return(\n        <Consumer>\n          { (value) => {\n            const { isLoggedIn, isLoading, user, signup, login, logout } = value;\n\n            return (<WrappedComponent \n                      {...this.props}\n                      isLoggedIn={isLoggedIn} \n                      isLoading={isLoading} \n                      user={user} \n                      signup={signup} \n                      login={login} \n                      logout={logout}\n                    />)\n\n          } }\n        </Consumer>\n        )\n    }\n}\n}\n\n\nexport { AuthProvider, withAuth }","import axios from \"axios\";\n\nclass GigService {\n    constructor() {\n      \n      this.api = axios.create({        \n        baseURL: `${process.env.REACT_APP_API_URL}/api`,\n        withCredentials: true\n      });\n    }\n  \n    getAllGigs = () => {\n      const pr = this.api.get('/gigs')\n      return pr\n    }\n\n    searchGigs = (city) => {\n        const pr = this.api.get(`/gigs/search/${city}`)\n        return pr\n    }\n  \n    getGigByID = (id) => {\n        const pr = this.api.get(`/bands/${id}`)\n        return pr\n    }\n  \n    createGig = (title, description, date, city, genre, durationHours, pricePerHour) => {\n      const pr = this.api.post('/gigs', {title, description, date, city, genre, durationHours, pricePerHour})\n      return pr\n    }\n  \n    // updateBandInfo = (bandID, title, description, image, phoneNumber, contactInfo, instagramUrl, youtubeUrl, genre1, genre2, genre3, pricePerHour, canCustomizePlaylist, minNoticePeriod) => {\n    //   const genres = [genre1, genre2, genre3];\n    //   const pr = this.api.put(`/bands/${bandID}`, {title, description, image, genres, phoneNumber, contactInfo, instagramUrl, youtubeUrl, pricePerHour, canCustomizePlaylist, minNoticePeriod})\n    //   return pr;\n    // }\n  \n    // deleteBand = (id) => {\n    //   const pr = this.api.delete(`/bands/${id}` )\n    //   return pr;\n    // }\n  \n  }\n  \n  const gigService = new GigService();\n  \n  export default gigService;","import axios from \"axios\";\n\n\nclass BandService {\n  constructor() {\n    \n    this.api = axios.create({        \n      baseURL: `${process.env.REACT_APP_API_URL}/api`,\n      withCredentials: true\n    });\n  }\n\n  getAllBands = () => {\n    const pr = this.api.get('/bands')\n    return pr\n  }\n\n  getBandByID = (id) => {\n      const pr = this.api.get(`/bands/${id}`)\n      return pr\n  }\n\n  createBand = (title, description, image, city, phoneNumber, contactInfo, instagramUrl, youtubeUrl, genre1, genre2, genre3, pricePerHour, canCustomizePlaylist, minNoticePeriod) => {\n    const genresArr = [genre1, genre2, genre3];\n    const genres = genresArr.filter(genre => genre !== \"\")\n    const pr = this.api.post('/bands', {title, description, image, city, genres, phoneNumber, contactInfo, instagramUrl, youtubeUrl, pricePerHour, canCustomizePlaylist, minNoticePeriod})\n    return pr\n  }\n\n  updateBandInfo = (bandID, title, description, city, image, phoneNumber, contactInfo, instagramUrl, youtubeUrl, genre1, genre2, genre3, pricePerHour, canCustomizePlaylist, minNoticePeriod) => {\n    const genres = [genre1, genre2, genre3];\n    const pr = this.api.put(`/bands/${bandID}`, {title, description, city, image, genres, phoneNumber, contactInfo, instagramUrl, youtubeUrl, pricePerHour, canCustomizePlaylist, minNoticePeriod})\n    return pr;\n  }\n\n  deleteBand = (id) => {\n    const pr = this.api.delete(`/bands/${id}` )\n    return pr;\n  }\n\n}\n\nconst bandService = new BandService();\n\nexport default bandService;","import React, { Component } from 'react';\nimport {Redirect} from 'react-router-dom';\nimport gigService from '../lib/gig-service';\n\nclass PostNewGig extends Component {\n\n    state = {\n        title: \"\",\n        description: \"\",\n        date: undefined,\n        city: \"\",\n        genre: \"\",\n        durationHours: undefined,\n        pricePerHour: undefined\n    }\n\n    handleInput = event => {\n        const {name, value} = event.target;\n        this.setState({[name]: value});\n    }\n\n    handleGigSubmit = event => {\n        event.preventDefault();\n        const {title, description, date, city, genre, durationHours, pricePerHour} = this.state;\n        gigService.createGig(title, description, date, city, genre, durationHours, pricePerHour)\n            .then(() => {\n                this.props.toggleAddGig();\n                this.props.getGigs();\n            })\n    }\n\n    render() {\n        return (\n            <form onSubmit={(e) => this.handleGigSubmit(e)}>\n                <h2>Tell us more about your gig</h2>\n                <label>Title: </label> <br/>\n                <input type=\"text\" name=\"title\" value={this.state.value} placeholder=\"Ex.: A romantic gesture\" onChange={(e) => this.handleInput(e)}/> <br/>\n                <label>City: </label> <br/>\n                <input type=\"text\" name=\"city\" value={this.state.city} onChange={(e) => this.handleInput(e)}/> <br/>\n                <label>When are you planning this gig: </label> <br/>\n                <input type=\"date\" name=\"date\" value={this.state.date} onChange={(e) => this.handleInput(e)}/> <br/>\n                <label>Description: </label> <br/>\n                <textarea rows=\"4\" cols=\"50\" name=\"description\" \n                    value={this.state.description}\n                    placeholder=\"Ex.: Looking for a decent sax player to play a cheesy song under my gf's window\"\n                    onChange={(e) => this.handleInput(e)}>\n                </textarea> <br/>\n                <label>Which music genre best describes your gig? </label> <br/>\n                <input type=\"text\" name=\"genre\" value={this.state.genre} onChange={(e) => this.handleInput(e)}/> <br/>\n                <label>How long will your gig last? Give a number in hours</label> <br/>\n                <input type=\"number\" min=\"0\" name=\"durationHours\" value={this.state.durationHours} onChange={(e) => this.handleInput(e)}/><span> hours</span> <br/>\n                <label>How much do you offer?</label> <br/>\n                <input type=\"number\" min=\"0\" name=\"pricePerHour\" value={this.state.pricePerHour} onChange={(e) => this.handleInput(e)}/><span> € per hour</span> <br/>\n                <button type=\"submit\">Post my gig!</button>\n            </form>\n        )\n    }\n}\n\nexport default PostNewGig;","import React, { Component } from 'react'\n\nclass GigCard extends Component {\n\n    //user = props.user\n\n    state = { \n        gig: {\n            title: \"\",\n            description: \"\",\n            city: \"\",\n            date: undefined,\n            genre: \"\",\n            durationHours: undefined,\n            pricePerHour: undefined\n        },\n        user: {\n            username: \"\",\n            phoneNumber: \"\"\n        }\n    }\n\n    componentDidMount () {\n        console.log('this.props', this.props)\n        this.setState({gig: this.props.gig, user: this.props.gig.clientID})\n    }    \n\n    render() {\n\n        function formatDate (dateObj) {\n            const dateOfGig = new Date(dateObj);\n            let dateToShow = dateOfGig.toString().slice(4,15);\n            dateToShow = dateToShow.slice(4,7) + dateToShow.slice(0,4) + dateToShow.slice(7, 11);\n            return dateToShow;\n        }\n        \n        const {title, city, date, durationHours, pricePerHour, genre, description} = this.state.gig;\n        const {username, phoneNumber} = this.state.user;\n\n        return (\n            <div>\n                <h2>{title}</h2>\n                <ul>\n                    <li>{city}</li>\n                    <li>{formatDate(date)}</li>\n                    <li>{durationHours} hours</li>\n                    <li>{pricePerHour}€ per hour</li>\n                    <li>{genre}</li>\n                </ul>\n                <p>{description}</p>\n                <p>Posted by: {username}</p>\n                <p>Contact: {phoneNumber}</p>\n            </div>\n        )\n    }\n}\n\nexport default GigCard;\n","import React from 'react'\n\nfunction BandCard (props) {\n\n    //band image is the background image of the card\n\n    const {title, city, genres} = props.band;\n    return (\n        <div> \n            <h3>{title}</h3>\n            <p>{city}</p>\n            {genres.map(genre => {\n                return <p key={genre}>{genre}</p>\n            })}\n        </div>\n    )\n}\n\nexport default BandCard;\n","import React from 'react'\n\nfunction BandSearch (props) {\n\n    const {handleChange, handleSearchSubmit, bandCities, bandGenres} = props;\n    const {city, genre, title } = props.bandSearch;\n    \n    return (\n        <form onSubmit={(e) => handleSearchSubmit(e)}>\n            <input list=\"cities\" name=\"city\" placeholder=\"Choose a city\" value={city} onChange={e => handleChange(e)}></input>\n            <datalist id=\"cities\">\n                {bandCities.map(city => {\n                    return <option key={city} value={city}></option>\n                })}\n            </datalist>\n            \n            <input list=\"genres\" name=\"genre\" placeholder=\"Choose a genre\" value={genre} onChange={e => handleChange(e)}></input>\n            <datalist id=\"genres\">\n                {bandGenres.map(genre => {\n                    return <option key={genre} value={genre}></option>\n                })}\n            </datalist>\n\n            <input type=\"text\" name=\"title\" value={title} onChange={e => handleChange(e)} placeholder=\"Type the name of a band\"></input>\n            {/* BETTER DYNAMIC SEARCH THEN BUTTON WON'T BE NEEDED */}\n            <button type=\"submit\">Search</button> \n        </form>\n    )\n}\n\nexport default BandSearch;\n","import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport { withAuth } from './../context/auth-context';\n\nimport gigService from './../lib/gig-service';\nimport bandService from './../lib/bands-service';\n\nimport PostNewGig from './../components/PostNewGig';\nimport GigCard from './../components/GigCard';\nimport BandCard from './../components/BandCard';\nimport BandSearch from './../components/BandSearch';\n\nclass Home extends Component {\n\n  state = {\n    showAddGig: false,\n    gigsArr: [],\n    bandCities: [],\n    bandGenres: [],                      //for datalist\n    bandSearch: {\n      city: \"\",\n      genre: \"\",                      //from search onChange\n      title: \"\"\n    },\n    bandsToDisplay: [],\n    allBands: [],\n    searchBandRes: [],\n    showSearchResults: false\n  }\n\n  toggleAddGig = () => {\n    this.setState({showAddGig: !this.state.showAddGig});\n  }\n\n  getGigs = () => {\n    gigService.getAllGigs()\n      .then((response) => {\n        this.setState({gigsArr: response.data})\n      })\n  }\n\n  getBandOptions = () => {\n    bandService.getAllBands()\n      .then((response) => {\n        const bandsArr = response.data;\n        let citiesArr = [];\n        let genreArr = [];\n        bandsArr.forEach(band => {\n          if (!citiesArr.includes(band.city)) {\n            citiesArr.push(band.city);\n          }\n          band.genres.forEach(genre => {\n            if (genre && !genreArr.includes(genre)) {\n              genreArr.push(genre);\n            }\n          })\n        })\n        this.setState({bandCities: citiesArr, bandGenres: genreArr})\n      })\n  }\n\n  getAllBands = () => {\n    bandService.getAllBands()\n      .then(response => {\n        let allBands = response.data;\n        if (allBands.length <= 10) {\n          this.setState({bandsToDisplay: allBands, allBands, searchBandRes: allBands})\n        } else {\n          let tenRandBands = [];\n          for (let i=0; i<10; i++) {\n            const index = Math.floor(Math.random() * allBands.length);\n            tenRandBands.push(allBands[index])\n          }\n          this.setState({bandsToDisplay: tenRandBands, allBands, searchBandRes: allBands})\n        }\n      })\n  }\n\n  filterBand = (name, str) => {\n    let newArr = [];\n    if (name === \"city\" || name === \"title\") {\n      let newArr = this.state.searchBandRes.filter(bandObj => bandObj[name].toLowerCase().includes(str.toLowerCase()));\n      this.setState({searchBandRes: newArr})\n    } else {\n      newArr = this.state.searchBandRes.filter(bandObj => (\n        bandObj.genres[0].toLowerCase().includes(str.toLowerCase()) \n        || bandObj.genres[1].toLowerCase().includes(str.toLowerCase())\n        || bandObj.genres[2].toLowerCase().includes(str.toLowerCase()))\n      )\n      this.setState({searchBandRes: newArr})\n    }\n  }\n\n  handleChange = (event) => {\n    const {name, value} = event.target;\n    this.setState({bandSearch: {...this.state.bandSearch, [name]: value}, showSearchResults: true});\n     if (this.state.bandSearch === {city: \"\", genre: \"\", title: \"\"}) {\n      this.setState({searchBandRes: this.state.allBands})\n    } else {\n      this.filterBand(name, this.state.bandSearch[name]);\n    }\n    console.log(this.state.searchBandRes)\n  }\n\n  componentDidMount () {\n    this.getGigs();\n    this.getBandOptions();\n    this.getAllBands();\n  }\n\n  render() {\n    return (\n      <div> \n         <main>\n           <section>\n            <h2>Search for a band in your area</h2>\n              <BandSearch handleChange={this.handleChange}\n                  handleSearchSubmit={this.handleSearchSubmit}\n                  bandSearch={this.state.bandSearch}\n                  bandCities={this.state.bandCities}\n                  bandGenres={this.state.bandGenres}\n              />\n            {this.state.showSearchResults \n            ? <div>\n                {this.state.searchBandRes === []      // TERNARY NOT WORKING, DIV ON LINE 123 NOT RENDERING\n                ? <div><p>Sorry, couldn't find any bands</p></div>            \n                : <div>\n                    {this.state.searchBandRes.map((bandObj) => {\n                      return <BandCard key={bandObj._id} band={bandObj}/>\n                    })}\n                  </div>}\n              </div>\n            : <div>\n                {this.state.bandsToDisplay.map((bandObj) => {\n                  return <BandCard key={bandObj._id} band={bandObj}/>\n                })}\n              </div>}\n            \n           </section>\n\n          {this.props.isLoggedIn && this.state.showAddGig\n            ? <div>\n                  <PostNewGig toggleAddGig={this.toggleAddGig} getGigs={this.getGigs}/>\n                  <button onClick={this.toggleAddGig}>Discard</button>\n              </div>\n            : this.props.isLoggedIn && !this.state.showAddGig\n              ? <div>\n                  <p>Didn't find what you were looking for? No worries, publish your own gig and receive offers from your local musicians!</p>\n                  <button onClick={this.toggleAddGig}>Post a gig</button>\n                </div>\n              :  <div>\n                    <p>Didn't find what you were looking for? No worries, publish your own gig and receive offers from your local musicians!</p>\n                    <Link to='/login'><button>Post a gig</button></Link>\n                  </div>}\n         </main>\n         <section>\n           {this.state.gigsArr.map(gig => {\n             const today = new Date(Date.now());\n             const gigDate = new Date(gig.date);\n             if (gigDate >= today) {\n              return <GigCard key={gig._id} gig={gig}/>\n             }\n           })}\n         </section>\n         <aside>FAQ link</aside>\n       </div>\n    )\n  }\n}\n\nexport default withAuth(Home);","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from './../context/auth-context';\n\nclass Signup extends Component {\n  state = { username: \"\", email: \"\", password: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { username, email, password } = this.state;\n    \n    this.props.signup( username, email, password );\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { username, email, password } = this.state;\n    return (\n      <div>\n        <h1>Sign Up</h1>\n\n        <form onSubmit={this.handleFormSubmit}>\n\n          <label>Username:</label>\n          <input type=\"text\" name=\"username\" value={username} onChange={this.handleChange} />\n\n          <label>Email:</label>\n          <input type=\"text\" name=\"email\" value={email} onChange={this.handleChange} />\n\n          <label>Password:</label>\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\n\n          <input type=\"submit\" value=\"Signup\" />\n        </form>\n        \n        <p>Already have account?</p>\n        <Link to={\"/login\"}> Login</Link>\n      </div>\n    );\n  }\n}\n\n\n\nexport default withAuth(Signup);\n\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from './../context/auth-context';\n\nclass Login extends Component {\n  state = { \n    email: \"\", \n    password: \"\" \n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { email, password } = this.state;\n    this.props.login(email, password);\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, password } = this.state;\n\n    return (\n      <div>\n        <h1>Login</h1>\n\n        <form onSubmit={this.handleFormSubmit}>\n          \n          <label>Email:</label>\n          <input type=\"text\" name=\"email\" value={email} onChange={this.handleChange}/>\n\n          <label>Password:</label>\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\n\n          <input type=\"submit\" value=\"Login\" />\n        </form>\n        <p>Don't have an account yet?</p>\n        <Link to={\"/signup\"}>Create account</Link>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import axios from \"axios\";\n\n\nclass UserService {\n  constructor() {\n    \n    this.api = axios.create({        \n      baseURL: `${process.env.REACT_APP_API_URL}/api`,\n      withCredentials: true\n    });\n  }\n\n  getUser = (id) => {\n    const pr = this.api.get(`/user/${id}`)\n    return pr;\n  }\n\n  editUser = (username, image, phoneNumber, aboutBio) => {\n    const pr = this.api.put(`/user`, {username, image, phoneNumber, aboutBio})\n    return pr;\n  }\n\n  deleteUser = (id) => {\n    const pr = this.api.delete(`/user/${id}` )\n    return pr;\n  }\n\n  \n\n}\n\nconst userService = new UserService();\n\nexport default userService;","import React from \"react\";\nimport GigCard from './../components/GigCard';\n\nfunction ProfileInfo (props) {\n\n        const gigArr = props.user.gigHistory;\n\n        return (\n            <section>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>\n                                <h2>My Profile Info</h2>\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td>Username</td>\n                            <td>{props.user.username}</td>\n                        </tr>\n                        <tr>\n                            <td>Phone number</td>\n                            <td>{props.user.phoneNumber}</td>\n                        </tr>\n                        <tr>\n                            <td>About me</td>\n                            <td>{props.user.aboutBio}</td>\n                        </tr>\n                    </tbody>\n                </table>\n                <button onClick={props.toggleEditProfile}>Edit Profile</button>\n                <div>\n                    <h2>My pending gigs: </h2>\n                    {gigArr\n                    ? gigArr.map(gig => {\n                        const today = new Date(Date.now());\n                        const gigDate = new Date(gig.date);\n                        if (gigDate >= today) {\n                            return <GigCard key={gig._id} gig={gig}/>\n                        } \n                        })\n                    : <p>You haven't posted any gigs yet</p>}\n                </div>\n            </section>\n            \n        )\n}\n\nexport default ProfileInfo;","import React from 'react';\n\nfunction EditProfile (props) {\n\n            const {handleChange, handleFileUpload, handleProfileFormSubmit} = props;\n            const {username, phoneNumber, aboutBio} = props.user;\n\n            return (\n                <form onSubmit={(e) => handleProfileFormSubmit(e)}>\n                    <h2>My Profile Info</h2>\n                    <label>Profile image</label>\n                        <input\n                            type=\"file\"\n                            onChange={(e)=> handleFileUpload(e)}\n                        ></input>\n                    <label>Username</label>\n                    <input type=\"text\" name=\"username\" value={username} onChange={(e) => handleChange(e)}/>\n                    <label>Phone number</label>\n                    <input type=\"text\" name=\"phoneNumber\" value={phoneNumber} onChange={(e) => handleChange(e)}/>\n                    <label>About me</label>\n                    <textarea rows=\"4\" cols=\"50\" name=\"aboutBio\" value={aboutBio} placeholder=\"More info about you\" onChange={(e) => handleChange(e)}/>\n                    <input type=\"submit\" value=\"Update Info\"/>\n                </form>\n            )\n    }\n\nexport default EditProfile;","import React from 'react';\n\nfunction UpdateBand (props) {\n    const {bandExists, handleBandChange, handleBandFormSubmit, updateBand, deleteBand, handleBandImgUpload} = props;\n    const {title, image, city, description, phoneNumber, contactInfo, instagramUrl, youtubeUrl, genre1, genre2, genre3, pricePerHour, canCustomizePlaylist, minNoticePeriod} = props.band;\n    \n    return (\n        <div>\n            <img src={image} alt=\"\"/>\n            <form onSubmit={(e) => handleBandFormSubmit(e)}>\n                <label>Band Photo: </label>\n                <input type=\"file\" onChange={(e)=> handleBandImgUpload(e)}></input> <br/>\n                <label>Title: </label> <br/>\n                <input type=\"text\" name=\"title\" value={title} onChange={handleBandChange}/> <br/>\n                <label>City: </label> <br/>\n                <input type=\"text\" name=\"city\" value={city} onChange={handleBandChange}/> <br/>\n                <label>Description: </label> <br/>\n                <textarea rows=\"4\" cols=\"50\" name=\"description\" value={description} onChange={handleBandChange}></textarea> <br/>\n                <label>Phone Number: </label> <br/>\n                <input type=\"text\" name=\"phoneNumber\" value={phoneNumber} onChange={handleBandChange}/> <br/>\n                <label>Contact Info: </label> <br/>\n                <textarea rows=\"4\" cols=\"50\" name=\"contactInfo\" value={contactInfo} onChange={handleBandChange}></textarea> <br/>\n                <label>Which genres do you play? </label> <br/>\n                <input type=\"text\" name=\"genre1\" value={genre1} onChange={handleBandChange}/> <br/>\n                <input type=\"text\" name=\"genre2\" value={genre2} onChange={handleBandChange}/> <br/>\n                <input type=\"text\" name=\"genre3\" value={genre3} onChange={handleBandChange}/> <br/>\n                <label>Link to Instagram: </label> <br/>\n                <input type=\"text\" name=\"instagramUrl\" value={instagramUrl} onChange={handleBandChange}/> <br/>\n                <label>Link to YouTube: </label> <br/>\n                <input type=\"text\" name=\"youtubeUrl\" value={youtubeUrl} onChange={handleBandChange}/> <br/>\n                <label>How much do you charge hourly? </label> <br/>\n                <input type=\"number\" name=\"pricePerHour\" value={pricePerHour} onChange={handleBandChange}/> <br/>\n                <p>Would you tailor your playlist to client's request? </p> <br/>\n                <label>Sure </label> \n                {canCustomizePlaylist \n                ? <input type=\"radio\" name=\"canCustomizePlaylist\" value=\"true\" checked=\"checked\" onChange={handleBandChange}/>\n                : <input type=\"radio\" name=\"canCustomizePlaylist\" value=\"true\" onChange={handleBandChange}/>\n                }\n                <label>I'd rather not </label> \n                {canCustomizePlaylist \n                ? <input type=\"radio\" name=\"canCustomizePlaylist\" value=\"false\" onChange={handleBandChange}/>\n                : <input type=\"radio\" name=\"canCustomizePlaylist\" value=\"false\" checked=\"checked\" onChange={handleBandChange}/>\n                }\n                <br/>\n                <label>If yes, how many days would you need to rehearse a new song? </label> <br/>\n                <input type=\"number\" name=\"minNoticePeriod\" value={minNoticePeriod} onChange={handleBandChange}></input><br/>\n\n                <button type=\"submit\">Publish</button>\n            </form>\n            <button onClick={updateBand}>Cancel</button>\n            {bandExists \n            ? <button onClick={deleteBand}>Delete Band</button>\n            : null\n            }\n        </div>\n    )\n}\n\nexport default UpdateBand;\n","import {React} from 'react';\nimport {Link} from 'react-router-dom';\n\nfunction BandInfo(props) {\n\n    const {title, description, city, image, phoneNumber, contactInfo, genres, instagramUrl, youtubeUrl, pricePerHour, canCustomizePlaylist, minNoticePeriod } = props.band;\n\n    return (\n        <div>\n            <img src={image} alt=\"\"/>\n            <table>\n                <thead>\n                    <tr>\n                        <th>\n                            <h2>{title}</h2>\n                        </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>City: </td>\n                        <td>{city}</td>\n                    </tr>\n                    <tr>\n                        <td>Description</td>\n                        <td>{description}</td>\n                    </tr>\n                    <tr>\n                        <td>Phone Number</td>\n                        <td>{phoneNumber}</td>\n                    </tr>\n                    <tr>\n                        <td>Contact Information</td>\n                        <td>{contactInfo}</td>\n                    </tr>\n                    <tr>\n                        <td>Genres</td>\n                        <td>\n                                {genres.map((genre, i, arr) => {\n                                    if (i === arr.length-1) {\n                                        return <span key={genre}>{genre}</span>\n                                    } else {\n                                        return <span key={genre}>{genre}, </span>\n                                    }\n                                    \n                                })}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Price per hour of performance</td>\n                        <td>€{pricePerHour}</td>\n                    </tr>\n                    <tr>\n                        <td>Playlist</td>\n                        {canCustomizePlaylist ? <td>Clients can order a custom playlist</td> : <td>Cannot perform songs on client's request</td>}\n                    </tr>\n                    {canCustomizePlaylist \n                    ? <tr>\n                        <td>Minimum rehersal time for a new song</td>\n                        <td>{minNoticePeriod} days</td>\n                      </tr>\n                    : null\n                    }\n                    {instagramUrl || youtubeUrl\n                    ? <tr>\n                        {instagramUrl \n                        ? <td><a href={instagramUrl} target=\"_blank\"><img src=\"/images/instagram-logo.png\" width=\"30px\" alt=\"\"/></a></td>\n                        : <td></td>}\n                        {youtubeUrl \n                        ? <td><a to={youtubeUrl} target=\"_blank\"><img src=\"/images/youtube-logo.png\" width=\"30px\" alt=\"\"/></a></td>\n                        : <td></td>}                        \n                      </tr>\n                    : null\n                    }\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default BandInfo;\n","import React, { Component } from \"react\";\nimport { withAuth } from './../context/auth-context';\n// import { Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport userService from './../lib/user-service';\nimport bandService from './../lib/bands-service';\n\nimport ProfileInfo from './../components/ProfileInfo';\nimport EditProfile from './../components/EditProfile';\nimport UpdateBand from './../components/UpdateBand';\nimport BandInfo from './../components/BandInfo';\n\nclass MyProfile extends Component {\n\n  state = {\n    user: {\n      username: \"\",\n      image: \"\",\n      phoneNumber: \"\",\n      aboutBio: \"\",\n      isBandPOC: false,\n      band: {\n        title: \"\",\n        description: \"\",\n        phoneNumber: \"\",\n        contactInfo: \"\",\n        city: \"\",\n        genre1: \"\",\n        genre2: \"\",\n        genre3: \"\",\n        genres: [],\n        image: \"\",\n        instagramUrl: \"\",\n        youtubeUrl: \"\",\n        pricePerHour: undefined,\n        canCustomizePlaylist: undefined,\n        minNoticePeriod: undefined,\n        pocID: undefined\n      },\n      gigHistory: []\n    },\n    editProfile: false,\n    updateBand: false,\n    editBand: false\n  }\n\n  toggleEditProfile = () => {\n    this.setState({editProfile: !this.state.editProfile})\n  }\n\n  handleProfileFormSubmit = event => {\n    event.preventDefault();\n    const { username, image, phoneNumber, aboutBio } = this.state.user;\n    userService.editUser(username, image, phoneNumber, aboutBio)\n      .then(() => {\n        this.toggleEditProfile();\n      })    \n  };\n\n  handleBandFormSubmit = event => {\n    event.preventDefault();\n    const {title, description, image, city, phoneNumber, contactInfo, instagramUrl, youtubeUrl, genre1, genre2, genre3, pricePerHour, canCustomizePlaylist, minNoticePeriod} = this.state.user.band;\n\n    if (this.state.user.isBandPOC) {\n      const bandID = this.state.user.band._id;\n      bandService.updateBandInfo(bandID, title, description, city, image, phoneNumber, contactInfo, instagramUrl, youtubeUrl, genre1, genre2, genre3, pricePerHour, canCustomizePlaylist, minNoticePeriod)\n      .then(() => {\n        this.updateBand();\n        this.setComponentState();\n      })\n    } else {\n      bandService.createBand(title, description, image, city, phoneNumber, contactInfo, instagramUrl, youtubeUrl, genre1, genre2, genre3, pricePerHour, canCustomizePlaylist, minNoticePeriod)\n      .then(() => {\n        this.updateBand();\n        this.setComponentState();\n      })\n    }\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ user: {...this.state.user,[name]: value} });\n  };\n\n  handleBandChange = event => {\n    const { name, value } = event.target;\n    this.setState({ user: {...this.state.user, band: {...this.state.user.band, [name]: value}}});\n  };\n\n  handleFileUpload = event => {\n    const file = event.target.files[0];\n    const uploadData = new FormData();\n    uploadData.append(\"image\", file);\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/api/user/upload`, uploadData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"response is: \", response);\n        this.setState({ user: {...this.state.user, image: response.data.secure_url }});\n        // console.log('IMAGE IN STATE AFTER SET STATE BEFORE EDIT PROFILE: ', this.state.user.image)\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n\n  handleBandImgUpload = event => {\n    const file = event.target.files[0];\n    const uploadData = new FormData();\n    uploadData.append(\"image\", file);\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/api/bands/upload`, uploadData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"response is: \", response);\n        this.setState({ user: {...this.state.user, band: {...this.state.user.band, image: response.data.secure_url} }});\n        // console.log('IMAGE IN STATE AFTER SET STATE BEFORE EDIT PROFILE: ', this.state.user.image)\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  }\n\n  deleteProfile = () => {\n    const id = this.props.user._id;\n    userService.deleteUser(id);\n  }\n\n  updateBand = () => {\n    this.setState({updateBand: !this.state.updateBand});\n  }\n\n  deleteBand = () => {\n    const id = this.state.user.band._id;\n    bandService.deleteBand(id)\n     .then(() => {\n       this.updateBand();\n       this.setComponentState();\n     })\n  }\n\n  setComponentState = () => {\n    userService.getUser(this.props.user._id)\n    .then((response) => {\n      const {username, image, dateOfBirth, phoneNumber, aboutBio, isBandPOC, band, gigHistory} = response.data;\n      if (!band) {\n        this.setState({user: {...this.state.user, username, image, dateOfBirth, phoneNumber, aboutBio, isBandPOC, gigHistory}});\n      } else {\n        band.genre1 = band.genres[0];\n        band.genre2 = band.genres[1];\n        band.genre3 = band.genres[2];\n        this.setState({user: {username, image, dateOfBirth, phoneNumber, aboutBio, isBandPOC, band, gigHistory}});\n      }\n    })\n  }\n\n  componentDidMount () {\n    this.setComponentState();\n  }\n  \n  render() {\n    return (\n      <div>\n        <h1>{this.state.user && this.state.user.username}</h1>\n        <main>\n          <div>\n              {this.state.user.image \n              ? <img src={this.state.user.image} alt=\"\"/>\n              : <img src=\"/images/profile-image-placeholder.png\" width=\"40px\" alt=\"\"/>}\n          </div>\n          <div>\n              {!this.state.editProfile \n              ? <ProfileInfo user={this.state.user} toggleEditProfile={this.toggleEditProfile}/>\n              : \n              <EditProfile user={this.state.user} handleProfileFormSubmit={this.handleProfileFormSubmit} handleChange={this.handleChange} handleFileUpload={this.handleFileUpload}/>\n              }\n          </div>\n        </main>\n        <section>\n          <h2>My band</h2>\n          <div>\n          { this.state.user.isBandPOC \n          ? !this.state.updateBand\n            ? <div>\n              <BandInfo band={this.state.user.band}/>\n              <button onClick={this.updateBand}>Edit band</button>\n              </div>\n            : <UpdateBand band={this.state.user.band} updateBand={this.updateBand} handleBandImgUpload={this.handleBandImgUpload} handleBandFormSubmit={this.handleBandFormSubmit} handleBandChange={this.handleBandChange} deleteBand={this.deleteBand} bandExists={this.state.user.isBandPOC}></UpdateBand> \n          : !this.state.updateBand\n            ? <div>\n                <p>You haven't published a band yet</p>\n                <button onClick={this.updateBand}>Add a band</button>\n              </div>\n            : <UpdateBand band={this.state.user.band} updateBand={this.updateBand} handleBandImgUpload={this.handleBandImgUpload} handleBandFormSubmit={this.handleBandFormSubmit} handleBandChange={this.handleBandChange}></UpdateBand> \n          }        \n          </div>\n        </section>\n        \n        <aside>\n          {/* <Link to={'/'} onClick={this.deleteProfile}>Delete Profile</Link> */}\n        </aside>\n      </div>\n    );\n  }\n}\n\n\nexport default withAuth(MyProfile);\n","import React from 'react'\n\nfunction GigSearch(props) {\n\n    const {handleChange, handleSearchSubmit, gigCities, query} = props;\n    \n    return (\n        <form onSubmit={(e) => handleSearchSubmit(e)}>\n            <input list=\"cities\" name=\"city\" placeholder=\"Choose a city\" value={query} onChange={e => handleChange(e)}></input>\n            <datalist id=\"cities\">\n                {gigCities.map(city => {\n                    return <option key={city} value={city}></option>\n                })}\n            </datalist>\n            <button type=\"submit\">Search</button>\n        </form>\n    )\n}\n\nexport default GigSearch;\n","import React, { Component } from 'react';\nimport gigService from './../lib/gig-service';\nimport GigCard from './../components/GigCard';\nimport GigSearch from './../components/GigSearch';\n\nclass GigBoard extends Component {\n\n    state = {\n        gigsArr: [],\n        gigCities: [],\n        query: \"\"\n    }\n\n    handleSearchSubmit = (event) => {\n        event.preventDefault();\n        gigService.searchGigs(this.state.query)\n            .then(response => {\n                this.setState({gigsArr: response.data, query: \"\"})\n            })\n    }\n\n    handleChange = (event) => {\n        const value = event.target.value;\n        this.setState({query: value})\n    }\n\n    showAllGigs = () => {\n        gigService.getAllGigs()\n            .then((response) => {\n                const allGigs = response.data;\n                let gigCities = [];\n                allGigs.forEach(gig => {\n                    if (!gigCities.includes(gig.city))\n                    gigCities.push(gig.city)\n                })\n                this.setState({gigsArr: allGigs, gigCities})\n            })\n    }\n\n    componentDidMount () {\n        this.showAllGigs()\n    }\n\n    render() {\n\n        return (\n            <div>\n                <h1>Gig Board</h1>\n                <h3>Select your city to check out current pending gigs</h3>\n                <GigSearch handleSearchSubmit={this.handleSearchSubmit} \n                    handleChange={this.handleChange} \n                    gigCities={this.state.gigCities} \n                    query={this.state.query}/>\n                <section>\n                    {this.state.gigsArr.map(gig => {\n                        const today = new Date(Date.now());\n                        const gigDate = new Date(gig.date);\n                        if (gigDate >= today) {\n                            return <GigCard key={gig._id} gig={gig}/>\n                        } \n                    })}\n\n                </section>\n            </div>\n        )\n    }\n}\n\nexport default GigBoard;\n","import React, { Component } from 'react';\nimport bandService from './../lib/bands-service';\n\nclass BandPage extends Component {\n\n    state = {\n        band: {image: \"\", \n            title: \"\", \n            city: \"\",\n            genres: [],\n            description: \"\",\n            pocID: {\n            username: \"\"\n            },\n            contactInfo: \"\",\n            phoneNumber: \"\",\n            instagramUrl: \"\",\n            youtubeUrl: \"\",\n            canCustomizePlaylist: undefined,\n            minNoticePeriod: undefined}\n    }\n\n    getBand = () => {\n        const endpoint = this.props.match.params.endpoint;\n        bandService.getAllBands() \n        .then(response => {\n            const allBands = response.data;\n            const foundBand = allBands.find(band => {\n                return band.endpoint === endpoint;\n            })\n            console.log('foundBand', foundBand)\n            this.setState({band: foundBand})\n        })\n    }\n\n    componentDidMount () {\n        this.getBand();\n    }\n\n    render() {\n\n        const {image, title, city, genres, description, pocID, contactInfo, pricePerHour, phoneNumber, instagramUrl, youtubeUrl, canCustomizePlaylist, minNoticePeriod} = this.state.band;\n        \n        return (\n            <main>\n                <img src={image} alt=\"\"/>\n                <h1>{title}</h1>\n                <h3>{city}</h3>\n                <ul>\n                    {genres.map(genre => {\n                        return <li key={genre}>{genre}</li>\n                    })}\n                </ul>\n                <p>{description}</p>\n                <p>Managed by {pocID.username}</p>\n                <p>{phoneNumber} / {contactInfo}</p>\n                {instagramUrl \n                    ? <a href={instagramUrl}><img src=\"/images/instagram-logo.png\" width=\"30px\" alt=\"\"/></a>\n                    : null} \n                {youtubeUrl \n                    ? <a href={youtubeUrl}><img src=\"/images/youtube-logo.png\" width=\"30px\" alt=\"\"/></a>\n                    : null}\n                <p><span>Usual price: {pricePerHour}€ per hour of performance</span></p>\n                {canCustomizePlaylist\n                    ?   <div> \n                            {title} can play a song of your choice given a minimum of {minNoticePeriod} days notice, how cool is that!\n                        </div>\n                    : <div>\n                        {title} prefer to stick to their own well-rehearsed repertoire and do not accept custom orders\n                    </div> }\n            </main>\n        )\n    }\n}\n\n\n\n// function BandPage (props) {\n\n    \n\n//     const thisBand = props.bands.find((band) => {\n//         return band.endpoint === endpoint;\n//     })    \n\n//     console.log('BAND PAGE LINE 13 ', props)\n\n//     const {image, title, city, genres, description, pocID, contactInfo, phoneNumber, instagramUrl, youtubeUrl, canCustomizePlaylist, minNoticePeriod} = thisBand;\n    \n//     return (\n        \n//     )\n// }\n\nexport default BandPage;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from './../context/auth-context';\nimport userService from './../lib/user-service';\n\nclass Navbar extends Component {\n\n  state = {\n    user: {\n      image: \"\"\n    }\n  }\n\n  setUserState = () => {\n    if (this.props.isLoggedIn) {\n      userService.getUser(this.props.user._id)\n      .then((currentUser) => {\n        this.setState({user: currentUser.data});\n      })\n    }\n  }\n\n  componentDidMount () {\n    this.setUserState();\n  }\n\n  render() {\n\n    return (\n      <nav className=\"navbar\">\n        <Link to={'/'} id='home-btn'>\n          <h4>Logoimage</h4>\n        </Link>\n        {this.props.isLoggedIn \n        ? (\n          <>\n          <div>\n              {this.state.user.image \n              ? <Link to={'/my-profile'}><img src={this.state.user.image} alt=\"\"/></Link>\n              : <Link to={'/my-profile'}><img src=\"/images/profile-image-placeholder.png\" width=\"40px\" alt=\"\"/></Link>}\n          </div>\n            \n            <Link onClick={this.props.logout} to=\"/\">\n              <img src=\"/images/logout-btn.png\" width=\"20px\" height=\"20px\" alt=\"\"/>\n            </Link>\n          </>\n        ) : (\n          <>\n          <div>\n            <Link to=\"/login\">\n              <button className=\"navbar-button\">Login</button>\n            </Link>\n            <Link to=\"/signup\">\n              <button className=\"navbar-button\">Signup</button>\n            </Link>\n          </div>\n          </>\n        )}\n      </nav>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from './../context/auth-context';\n\n// Route that only allows access to a user who is not logged in\n\nfunction AnonRoute (routeProps) {\n  \n  const { isLoggedIn, isLoading } = routeProps;\n\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  if (isLoading) return 'Loading';\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={\n        function(props) {\n          if (isLoggedIn) return <Redirect to=\"/my-profile\" />\n          else if (! isLoggedIn) return <ComponentToShow {...props} />\n        }\n      }\n     />\n    )\n}\n\n\nexport default withAuth(AnonRoute);\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from './../context/auth-context';\n\n\nfunction PrivateRoute (routeProps) {\n\n  const { isLoggedIn, isLoading } = routeProps;\n\n\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  if (isLoading) return 'Loading';\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={\n        function(props) {\n          if (! isLoggedIn) return <Redirect to=\"/login\" />;\n          else if (isLoggedIn) return <ComponentToShow {...props} />;\n        }\n      }\n     />\n    )\n}\n\n\nexport default withAuth(PrivateRoute);\n\n\n/* \n// Concise way\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\n  return (\n   <Route\n    {...rest}\n    render={ (props)  => isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />}\n   /> \n)} \n*/\n","import React, { Component } from 'react';\nimport './App.css';\nimport { Switch, Route } from 'react-router-dom';\n\nimport Home from './pages/Home';\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport MyProfile from './pages/MyProfile';\nimport GigBoard from './pages/GigBoard';\nimport BandPage from './pages/BandPage';\n\nimport Navbar from './components/Navbar';\nimport AnonRoute from './components/AnonRoute';\nimport PrivateRoute from './components/PrivateRoute';\n\n\n\n\nfunction App () {\n\n    return (\n      <div className=\"container\">\n        <Navbar />\n\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/gigboard\" component={GigBoard} />\n\n          <AnonRoute exact path=\"/signup\" component={Signup} />\n          <AnonRoute exact path=\"/login\" component={Login} />\n\n          <PrivateRoute exact path=\"/my-profile\" component={MyProfile} />\n          <Route exact path=\"/:endpoint\" component={BandPage}/>\n        </Switch>\n      </div>\n    );\n  }\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nimport { AuthProvider } from './context/auth-context';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>\n, document.getElementById('root'));\n"],"sourceRoot":""}